apiVersion: apps/v1
kind: Deployment
metadata:
  name: homarr
  namespace: default
  labels: { app: homarr }
spec:
  replicas: 1
  selector: { matchLabels: { app: homarr } }
  template:
    metadata: { labels: { app: homarr } }
    spec:
      containers:
        - name: homarr
          image: ghcr.io/ajnart/homarr:latest
          ports: [containerPort: 7575]
          volumeMounts: [{ name: config, mountPath: /app/data/configs }]
      volumes: [{ name: config, configMap: { name: homarr } }]

---
apiVersion: v1
kind: Service
metadata:
  name: homarr
  namespace: default
spec:
  selector: { app: homarr }
  ports: [{ port: 7575, name: homarr, targetPort: 7575 }]

---
apiVersion: traefik.containo.us/v1alpha1
kind: IngressRoute
metadata:
  name: homarr
  namespace: default
  annotations:
    kubernetes.io/ingress.class: traefik
    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
spec:
  entryPoints: [websecure]
  routes:
    - match: Host(`homarr.mp281x.xyz`)
      kind: Rule
      services: [{ name: homarr, port: 7575 }]

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: homarr
  namespace: default
data:
  default.json: |
    {
      "schemaVersion": 1,
      "configProperties": {
        "name": "default"
      },
      "categories": [
        {
          "id": "cfd26cdc-055c-4051-b0c9-36e3bb782051",
          "name": "Dev",
          "position": 1
        },
        {
          "id": "0b465fac-b991-4d3e-a0b6-85ad7dd96f63",
          "name": "Infrastructure",
          "position": 2,
          "type": "category"
        }
      ],
      "wrappers": [
        {
          "id": "ee2fcd60-6537-4d71-a0b6-0076fe5da479",
          "position": 4
        },
        {
          "id": "9cdc710d-3d61-4c56-9824-bc279b9c778e",
          "position": 5
        },
        {
          "id": "1cddb793-85ce-4e54-aa3c-51907a4d975b",
          "position": 5
        },
        {
          "id": "6bf7f336-a6c0-4841-b5cb-7134b8d8cbe4",
          "position": 5
        },
        {
          "id": "955e09a4-9def-4694-bc0b-09294b9f057d",
          "position": 6
        }
      ],
      "apps": [
        {
          "id": "6a954d1d-1e84-416b-8454-fb261e983c99",
          "name": "Your app",
          "url": "https://homarr.dev",
          "appearance": {
            "iconUrl": "/imgs/logo/logo.png"
          },
          "network": {
            "enabledStatusChecker": true,
            "okStatus": [
              200
            ]
          },
          "behaviour": {
            "isOpeningNewTab": true,
            "externalUrl": ""
          },
          "area": {
            "type": "wrapper",
            "properties": {
              "id": "default"
            }
          },
          "shape": {
            "lg": {
              "location": {
                "x": 0,
                "y": 0
              },
              "size": {
                "width": 1,
                "height": 1
              }
            }
          },
          "integration": {
            "type": null,
            "properties": []
          }
        },
        {
          "id": "df37a192-6ffe-41b0-bfaa-c278c271c508",
          "name": "Your app",
          "url": "https://homarr.dev",
          "appearance": {
            "iconUrl": "/imgs/logo/logo.png"
          },
          "network": {
            "enabledStatusChecker": true,
            "okStatus": [
              200
            ]
          },
          "behaviour": {
            "isOpeningNewTab": true,
            "externalUrl": ""
          },
          "area": {
            "type": "wrapper",
            "properties": {
              "id": "8f0e7757-51dc-4548-8ab4-11366ca7171a"
            }
          },
          "shape": {
            "lg": {
              "location": {
                "x": 1,
                "y": 1
              },
              "size": {
                "width": 1,
                "height": 1
              }
            },
            "md": {
              "location": {
                "x": 0,
                "y": 0
              },
              "size": {
                "width": 1,
                "height": 1
              }
            }
          },
          "integration": {
            "type": null,
            "properties": []
          }
        },
        {
          "id": "11593cd1-41f1-4047-96ea-762efbb474e3",
          "name": "Cloudflare",
          "url": "https://dash.cloudflare.com/a35fef8579890d0e05f02249ef672695/mp281x.xyz/dns/records",
          "appearance": {
            "iconUrl": "https://cdn.jsdelivr.net/gh/walkxcode/dashboard-icons@master/png/cloudflare.png"
          },
          "network": {
            "enabledStatusChecker": false,
            "okStatus": [
              200
            ]
          },
          "behaviour": {
            "isOpeningNewTab": true,
            "externalUrl": "https://dash.cloudflare.com/a35fef8579890d0e05f02249ef672695/mp281x.xyz/dns/records"
          },
          "area": {
            "type": "category",
            "properties": {
              "id": "0b465fac-b991-4d3e-a0b6-85ad7dd96f63"
            }
          },
          "shape": {
            "md": {
              "location": {
                "x": 4,
                "y": 0
              },
              "size": {
                "width": 1,
                "height": 1
              }
            },
            "lg": {
              "location": {
                "x": 0,
                "y": 0
              },
              "size": {
                "width": 2,
                "height": 2
              }
            },
            "sm": {
              "location": {
                "x": 1,
                "y": 1
              },
              "size": {
                "width": 1,
                "height": 1
              }
            }
          },
          "integration": {
            "type": null,
            "properties": []
          }
        },
        {
          "id": "f9fcd4d1-1bda-4b46-bcb4-fdbc4b825b8c",
          "name": "S3",
          "url": "https://new.contabo.com/storage/object-storage/buckets/",
          "appearance": {
            "iconUrl": "https://sonraisecurity.com/wp-content/uploads/aws-s3-icon.png"
          },
          "network": {
            "enabledStatusChecker": true,
            "okStatus": [
              200
            ]
          },
          "behaviour": {
            "isOpeningNewTab": true,
            "externalUrl": "https://new.contabo.com/storage/object-storage/buckets/"
          },
          "area": {
            "type": "category",
            "properties": {
              "id": "0b465fac-b991-4d3e-a0b6-85ad7dd96f63"
            }
          },
          "shape": {
            "md": {
              "location": {
                "x": 0,
                "y": 0
              },
              "size": {
                "width": 1,
                "height": 1
              }
            },
            "lg": {
              "location": {
                "x": 10,
                "y": 0
              },
              "size": {
                "width": 2,
                "height": 2
              }
            },
            "sm": {
              "location": {
                "x": 0,
                "y": 1
              },
              "size": {
                "width": 1,
                "height": 1
              }
            }
          },
          "integration": {
            "type": null,
            "properties": []
          }
        },
        {
          "id": "25db7805-813b-47c5-a539-a3ddcab43ffc",
          "name": "Railway",
          "url": "https://railway.app/dashboard",
          "appearance": {
            "iconUrl": "https://railway.app/brand/logo-light.png"
          },
          "network": {
            "enabledStatusChecker": true,
            "okStatus": [
              200
            ]
          },
          "behaviour": {
            "isOpeningNewTab": true,
            "externalUrl": "https://railway.app/dashboard"
          },
          "area": {
            "type": "category",
            "properties": {
              "id": "0b465fac-b991-4d3e-a0b6-85ad7dd96f63"
            }
          },
          "shape": {
            "md": {
              "location": {
                "x": 3,
                "y": 0
              },
              "size": {
                "width": 1,
                "height": 1
              }
            },
            "lg": {
              "location": {
                "x": 2,
                "y": 0
              },
              "size": {
                "width": 2,
                "height": 2
              }
            },
            "sm": {
              "location": {
                "x": 2,
                "y": 0
              },
              "size": {
                "width": 1,
                "height": 1
              }
            }
          },
          "integration": {
            "type": null,
            "properties": []
          }
        },
        {
          "id": "32f8bdbe-c8ec-4b8f-97df-17dc625582bb",
          "name": "Longhorn",
          "url": "https://longhorn.mp281x.xyz/",
          "appearance": {
            "iconUrl": "https://cdn.jsdelivr.net/gh/walkxcode/dashboard-icons@master/png/longhorn.png"
          },
          "network": {
            "enabledStatusChecker": true,
            "okStatus": [
              200
            ]
          },
          "behaviour": {
            "isOpeningNewTab": true,
            "externalUrl": "https://longhorn.mp281x.xyz/"
          },
          "area": {
            "type": "category",
            "properties": {
              "id": "cfd26cdc-055c-4051-b0c9-36e3bb782051"
            }
          },
          "shape": {
            "md": {
              "location": {
                "x": 0,
                "y": 1
              },
              "size": {
                "width": 3,
                "height": 1
              }
            },
            "lg": {
              "location": {
                "x": 0,
                "y": 2
              },
              "size": {
                "width": 6,
                "height": 2
              }
            },
            "sm": {
              "location": {
                "x": 1,
                "y": 1
              },
              "size": {
                "width": 2,
                "height": 1
              }
            }
          },
          "integration": {
            "type": null,
            "properties": []
          }
        },
        {
          "id": "74faf543-ad4f-4dd8-9c56-a40ca44e2a64",
          "name": "Tailscale",
          "url": "https://login.tailscale.com/admin/machines",
          "appearance": {
            "iconUrl": "https://cdn.jsdelivr.net/gh/walkxcode/dashboard-icons@master/png/tailscale.png"
          },
          "network": {
            "enabledStatusChecker": true,
            "okStatus": [
              200
            ]
          },
          "behaviour": {
            "isOpeningNewTab": true,
            "externalUrl": "https://login.tailscale.com/admin/machines"
          },
          "area": {
            "type": "category",
            "properties": {
              "id": "0b465fac-b991-4d3e-a0b6-85ad7dd96f63"
            }
          },
          "shape": {
            "md": {
              "location": {
                "x": 5,
                "y": 0
              },
              "size": {
                "width": 1,
                "height": 1
              }
            },
            "lg": {
              "location": {
                "x": 4,
                "y": 0
              },
              "size": {
                "width": 2,
                "height": 2
              }
            },
            "sm": {
              "location": {
                "x": 0,
                "y": 0
              },
              "size": {
                "width": 1,
                "height": 1
              }
            }
          },
          "integration": {
            "type": null,
            "properties": []
          }
        },
        {
          "id": "cdad02a0-31c9-4ee7-a3f0-39eae9fd134e",
          "name": "Contabo",
          "url": "https://my.contabo.com/vps#",
          "appearance": {
            "iconUrl": "https://cdn.jsdelivr.net/gh/walkxcode/dashboard-icons@master/png/contabo.png"
          },
          "network": {
            "enabledStatusChecker": true,
            "okStatus": [
              200
            ]
          },
          "behaviour": {
            "isOpeningNewTab": true,
            "externalUrl": "https://my.contabo.com/vps#"
          },
          "area": {
            "type": "category",
            "properties": {
              "id": "0b465fac-b991-4d3e-a0b6-85ad7dd96f63"
            }
          },
          "shape": {
            "md": {
              "location": {
                "x": 1,
                "y": 0
              },
              "size": {
                "width": 1,
                "height": 1
              }
            },
            "lg": {
              "location": {
                "x": 6,
                "y": 0
              },
              "size": {
                "width": 2,
                "height": 2
              }
            },
            "sm": {
              "location": {
                "x": 1,
                "y": 0
              },
              "size": {
                "width": 1,
                "height": 1
              }
            }
          },
          "integration": {
            "type": null,
            "properties": []
          }
        },
        {
          "id": "f2db2c46-bdfa-4a04-8e81-2671c490eb1d",
          "name": "Nextcloud",
          "url": "https://nextcloud.mp281x.xyz",
          "appearance": {
            "iconUrl": "https://cdn.jsdelivr.net/gh/walkxcode/dashboard-icons@master/png/nextcloud.png"
          },
          "network": {
            "enabledStatusChecker": true,
            "okStatus": [
              200
            ]
          },
          "behaviour": {
            "isOpeningNewTab": true,
            "externalUrl": "https://nextcloud.mp281x.xyz"
          },
          "area": {
            "type": "sidebar",
            "properties": {
              "location": "right"
            }
          },
          "shape": {
            "lg": {
              "location": {
                "x": 0,
                "y": 2
              },
              "size": {
                "width": 2,
                "height": 2
              }
            },
            "md": {
              "location": {
                "x": 0,
                "y": 2
              },
              "size": {
                "width": 2,
                "height": 2
              }
            },
            "sm": {
              "location": {
                "x": 0,
                "y": 2
              },
              "size": {
                "width": 2,
                "height": 2
              }
            }
          },
          "integration": {
            "type": null,
            "properties": []
          }
        },
        {
          "id": "cfcd1af5-c887-4cbc-8c05-0d2ab3f74eb8",
          "name": "Github",
          "url": "https://github.com/MP281X?tab=repositories",
          "appearance": {
            "iconUrl": "https://cdn.jsdelivr.net/gh/walkxcode/dashboard-icons@master/png/github.png"
          },
          "network": {
            "enabledStatusChecker": true,
            "okStatus": [
              200
            ]
          },
          "behaviour": {
            "isOpeningNewTab": true,
            "externalUrl": "https://github.com/MP281X?tab=repositories"
          },
          "area": {
            "type": "category",
            "properties": {
              "id": "0b465fac-b991-4d3e-a0b6-85ad7dd96f63"
            }
          },
          "shape": {
            "md": {
              "location": {
                "x": 2,
                "y": 0
              },
              "size": {
                "width": 1,
                "height": 1
              }
            },
            "lg": {
              "location": {
                "x": 8,
                "y": 0
              },
              "size": {
                "width": 2,
                "height": 2
              }
            },
            "sm": {
              "location": {
                "x": 2,
                "y": 1
              },
              "size": {
                "width": 1,
                "height": 1
              }
            }
          },
          "integration": {
            "type": null,
            "properties": []
          }
        },
        {
          "id": "a9537ff4-9aef-46e0-bf90-142739da7810",
          "name": "Bitwarden",
          "url": "https://vaultwarden.mp281x.xyz",
          "appearance": {
            "iconUrl": "https://cdn.jsdelivr.net/gh/walkxcode/dashboard-icons@master/png/bitwarden.png"
          },
          "network": {
            "enabledStatusChecker": true,
            "okStatus": [
              200
            ]
          },
          "behaviour": {
            "isOpeningNewTab": true,
            "externalUrl": "https://vaultwarden.mp281x.xyz"
          },
          "area": {
            "type": "sidebar",
            "properties": {
              "location": "right"
            }
          },
          "shape": {
            "md": {
              "location": {
                "x": 0,
                "y": 0
              },
              "size": {
                "width": 2,
                "height": 2
              }
            },
            "lg": {
              "location": {
                "x": 0,
                "y": 0
              },
              "size": {
                "width": 2,
                "height": 2
              }
            },
            "sm": {
              "location": {
                "x": 0,
                "y": 0
              },
              "size": {
                "width": 2,
                "height": 2
              }
            }
          },
          "integration": {
            "type": null,
            "properties": []
          }
        },
        {
          "id": "d43eb6fa-36e4-47e7-9ab9-3e2f1c6104da",
          "name": "Traefik",
          "url": "https://traefik.mp281x.xyz",
          "appearance": {
            "iconUrl": "https://cdn.jsdelivr.net/gh/walkxcode/dashboard-icons@master/png/traefik.png"
          },
          "network": {
            "enabledStatusChecker": true,
            "okStatus": [
              200
            ]
          },
          "behaviour": {
            "isOpeningNewTab": true,
            "externalUrl": "https://traefik.mp281x.xyz"
          },
          "area": {
            "type": "category",
            "properties": {
              "id": "cfd26cdc-055c-4051-b0c9-36e3bb782051"
            }
          },
          "shape": {
            "md": {
              "location": {
                "x": 3,
                "y": 0
              },
              "size": {
                "width": 3,
                "height": 1
              }
            },
            "lg": {
              "location": {
                "x": 6,
                "y": 2
              },
              "size": {
                "width": 6,
                "height": 2
              }
            },
            "sm": {
              "location": {
                "x": 2,
                "y": 0
              },
              "size": {
                "width": 1,
                "height": 1
              }
            }
          },
          "integration": {
            "type": null,
            "properties": []
          }
        },
        {
          "id": "24d85818-96c9-4070-89e3-d443b3257441",
          "name": "ArgoCD",
          "url": "https://argocd.mp281x.xyz",
          "appearance": {
            "iconUrl": "https://cdn.jsdelivr.net/gh/walkxcode/dashboard-icons@master/png/argocd.png"
          },
          "network": {
            "enabledStatusChecker": true,
            "okStatus": [
              200
            ]
          },
          "behaviour": {
            "isOpeningNewTab": true,
            "externalUrl": "https://argocd.mp281x.xyz"
          },
          "area": {
            "type": "category",
            "properties": {
              "id": "cfd26cdc-055c-4051-b0c9-36e3bb782051"
            }
          },
          "shape": {
            "md": {
              "location": {
                "x": 0,
                "y": 0
              },
              "size": {
                "width": 3,
                "height": 1
              }
            },
            "lg": {
              "location": {
                "x": 0,
                "y": 0
              },
              "size": {
                "width": 12,
                "height": 2
              }
            },
            "sm": {
              "location": {
                "x": 0,
                "y": 0
              },
              "size": {
                "width": 2,
                "height": 1
              }
            }
          },
          "integration": {
            "type": null,
            "properties": []
          }
        }
      ],
      "widgets": [
        {
          "id": "date",
          "properties": {
            "display24HourFormat": true
          },
          "area": {
            "type": "wrapper",
            "properties": {
              "id": "default"
            }
          },
          "shape": {
            "sm": {
              "location": {
                "x": 0,
                "y": 1
              },
              "size": {
                "width": 2,
                "height": 1
              }
            },
            "md": {
              "location": {
                "x": 4,
                "y": 0
              },
              "size": {
                "width": 2,
                "height": 1
              }
            },
            "lg": {
              "location": {
                "x": 2,
                "y": 0
              },
              "size": {
                "width": 2,
                "height": 1
              }
            }
          }
        },
        {
          "id": "weather",
          "properties": {
            "displayInFahrenheit": false,
            "location": "Paris"
          },
          "area": {
            "type": "wrapper",
            "properties": {
              "id": "default"
            }
          },
          "shape": {
            "md": {
              "location": {
                "x": 0,
                "y": 0
              },
              "size": {
                "width": 2,
                "height": 1
              }
            },
            "sm": {
              "location": {
                "x": 1,
                "y": 0
              },
              "size": {
                "width": 2,
                "height": 1
              }
            },
            "lg": {
              "location": {
                "x": 0,
                "y": 0
              },
              "size": {
                "width": 2,
                "height": 1
              }
            }
          }
        }
      ],
      "settings": {
        "common": {
          "searchEngine": {
            "type": "google",
            "properties": {
              "openInNewTab": false
            }
          }
        },
        "customization": {
          "layout": {
            "enabledLeftSidebar": false,
            "enabledRightSidebar": true,
            "enabledDocker": false,
            "enabledPing": true,
            "enabledSearchbar": false
          },
          "pageTitle": "K3S Dev",
          "logoImageUrl": "/imgs/logo/logo.png",
          "faviconUrl": "/imgs/favicon/favicon-squared",
          "backgroundImageUrl": "",
          "customCss": "",
          "colors": {
            "primary": "red",
            "secondary": "yellow",
            "shade": 7
          },
          "appOpacity": 100,
          "metaTitle": "K3S Dev"
        }
      }
    }
